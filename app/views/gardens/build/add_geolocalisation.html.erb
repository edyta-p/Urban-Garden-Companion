
<div class="container pt-3 pb-5" data-controller="location">
  <%= render "shared/loader", step: 2, class: "m-5" %>
  <div class="pt-5">
    <h2 class="pb-3">In which climate are you living?</h2>
    <%= simple_form_for @garden, url: wizard_path, method: :put, data: {location_target: 'form'} do |f| %>
      <div class="row">
        <% Garden::CLIMATE.each do |elem| %>
          <div class="col-4 pb-3 text-center">
            <%= f.radio_button :climate, elem, id: elem, class: "radio", data: { action: 'input->location#update'}%>
            <%= f.label elem, for: elem do %>
              <%= image_tag Garden::IMAGE_CLIMATE[elem.to_sym], class: 'img-fluid'%>
            <p class="pt-3"><%= elem %></p>
            <% end %>
          </div>
        <% end %>
      </div>
    <div class="text-center pt-4">
      <p>If you don't know your climate, use geolocation to determine it:</p>
      <%= button_tag "OK, I want to geolocate", data: {location_target: "climate", action: "click->location#geo"}, type: :button, class: 'btn btn-primary' %>
      <span data-location-target="lat" class='d-none'></span><span data-location-target="lng" class='d-none'></span>
    </div>
    <div class="text-center">
      <%= f.submit 'Next step', class: 'btn btn-primary btn-lg mt-5',data: { location_target: "button"}, disabled: true %>
    </div>
    <% end %>
  </div>
</div>

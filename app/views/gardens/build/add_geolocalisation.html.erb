
<div class="container pb-5" data-controller="location">
  <%= render "shared/loader", step: 2, class: "m-5" %>
  <div class="pt-5">
    <h2 class="pb-3">How would you describe your climate?</h2>
    <%= simple_form_for @garden, url: wizard_path, method: :put, data: {location_target: 'form'} do |f| %>
      <div class="row">
        <% Garden::CLIMATE.each do |elem| %>
          <div class="col-4 pb-3 text-center">
            <%= f.radio_button :climate, elem, id: elem, class: "radio", data: { action: 'input->location#update'}%>
            <%= f.label elem, for: elem do %>
              <%= image_tag Garden::IMAGE_CLIMATE[elem.to_sym], class: 'img-fluid'%>
            <p class="pt-3"><%= elem %></p>
            <% end %>
          </div>
        <% end %>
      </div>


        <p class="mt-5 text-center">If you don't know your climate, use your current location to determine it!</p>
        <span data-location-target="lat" class='d-none'></span>
        <span data-location-target="lng" class='d-none'></span>

      <div class="button-middle">
      <%= button_tag "Get your current location", data: {location_target: "climate", action: "click->location#geo"}, type: :button, class: 'button  w-100 mb-3', id:"le-button" %>
      <%= f.submit 'Next step', class: 'button-disabled mt-5 w-100',data: { location_target: "button"}, disabled: true, id: "button-geoloc" %>
    <% end %>
    </div>
  </div>
</div>
